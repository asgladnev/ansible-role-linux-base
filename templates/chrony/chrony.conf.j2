# ============================================================ #
# Auto-generated by Ansible                                    #
# Do not edit manually! Changes will be overwritten.           #
# ============================================================ #

{# NTP Servers: list of servers to synchronize time with #}
{% if ntp_pools is defined %}
{% for server in ntp_pools %}
server {{ server }} iburst
{% endfor %}
{% endif %}

{# Configuration directories: where additional config files are stored #}
confdir /etc/chrony/conf.d
sourcedir /run/chrony-dhcp
sourcedir /etc/chrony/sources.d

{# Key and drift files: files for storing keys and drift data #}
keyfile /etc/chrony/chrony.keys
driftfile /var/lib/chrony/chrony.drift
ntsdumpdir /var/lib/chrony

{# Logging: where to write logs and which logs to include #}
logdir /var/log/chrony
log measurements statistics tracking

{# Time synchronization settings: limits and adjustment behavior #}
maxupdateskew 100.0      {# Maximum allowed time offset before a step correction #}
rtcsync                  {# Synchronize hardware clock with system clock #}
makestep 1 3             {# Step time immediately if offset >1s, otherwise slew gradually #}

{# Leap second handling: configure leap second behavior #}
leapsectz right/UTC

{# Access control (optional): allowed and denied networks #}
{# allow 192.168.1.0/24 #}  {# Example of allowed subnet #}
{# deny all #}               {# Example of denying all other access #}

{# Local time source (optional): configure local reference clock #}
{# local stratum 10 #}       {# Stratum 10 for local clock source #}
